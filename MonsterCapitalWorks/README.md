# MonsterCapitalWorks v3.2

[![Kotlin](https://img.shields.io/badge/Kotlin-2.3.0-blue.svg)](https://kotlinlang.org/)
[![Minecraft](https://img.shields.io/badge/Minecraft-1.21.4-green.svg)](https://www.minecraft.net/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

> é«˜çº§åˆ·æ€ªç¬¼ç®¡ç†ç³»ç»Ÿ - Kotlinä¼˜åŒ–ç‰ˆ

ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„Minecraft Paper/Bukkitæ’ä»¶ï¼Œæä¾›å®Œæ•´çš„åˆ·æ€ªç¬¼ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒMySQL/SQLiteæ•°æ®åº“ã€å‡çº§ç³»ç»Ÿã€GUIç•Œé¢ã€ç²¾ç¡®ç”Ÿæˆæ¨¡å¼å’Œå¼‚æ­¥å¤„ç†ã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- **åŒç±»å‹åˆ·æ€ªç¬¼ç³»ç»Ÿ**ï¼šæ™®é€šåˆ·æ€ªç¬¼å’Œé«˜çº§åˆ·æ€ªç¬¼
- **å¤šå®ä½“æ”¯æŒ**ï¼šæ”¯æŒæ‰€æœ‰Minecraftç”Ÿç‰©ç±»å‹
- **çµæ´»çš„ç”Ÿæˆæ¨¡å¼**ï¼šéšæœºç”Ÿæˆå’Œç²¾ç¡®ä½ç½®ç”Ÿæˆ
- **å­˜å‚¨ç³»ç»Ÿ**ï¼šå…³é—­æ—¶è‡ªåŠ¨å­˜å‚¨ç”Ÿç‰©ï¼Œå¼€å¯æ—¶é‡Šæ”¾
- **å‡çº§ç³»ç»Ÿ**ï¼šå¤šç§å‡çº§è·¯å¾„æå‡åˆ·æ€ªç¬¼æ€§èƒ½

### ğŸ’¾ æ•°æ®åº“æ”¯æŒ
- **SQLite**ï¼šè½»é‡çº§æœ¬åœ°æ•°æ®åº“ï¼ˆé»˜è®¤ï¼‰
- **MySQL**ï¼šé«˜æ€§èƒ½è¿œç¨‹æ•°æ®åº“
- **HikariCPè¿æ¥æ± **ï¼šä¼˜åŒ–æ•°æ®åº“æ€§èƒ½
- **å¼‚æ­¥å¤„ç†**ï¼šæ‰€æœ‰æ•°æ®åº“æ“ä½œå¼‚æ­¥æ‰§è¡Œ

### ğŸ¨ ç”¨æˆ·ç•Œé¢
- **GUIèœå•ç³»ç»Ÿ**ï¼šç›´è§‚çš„å›¾å½¢ç•Œé¢
- **å®Œå…¨å¯è‡ªå®šä¹‰**ï¼šæ‰€æœ‰GUIé€šè¿‡YAMLé…ç½®
- **å¤šè¯­è¨€æ”¯æŒ**ï¼šå®Œæ•´çš„æ¶ˆæ¯ç³»ç»Ÿ

### âš¡ æ€§èƒ½ä¼˜åŒ–
- **Kotlinåç¨‹**ï¼šé«˜æ•ˆçš„å¼‚æ­¥ä»»åŠ¡å¤„ç†
- **æ™ºèƒ½ç¼“å­˜**ï¼šå‡å°‘æ•°æ®åº“æŸ¥è¯¢
- **æ‰¹é‡å¤„ç†**ï¼šä¼˜åŒ–åˆ·æ€ªç¬¼tickå¤„ç†
- **å†…å­˜ç®¡ç†**ï¼šè‡ªåŠ¨æ¸…ç†å’Œèµ„æºé‡Šæ”¾

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- **Minecraftç‰ˆæœ¬**ï¼š1.21.4+
- **æœåŠ¡å™¨æ ¸å¿ƒ**ï¼šPaper / Spigot / Bukkit
- **Javaç‰ˆæœ¬**ï¼š21+
- **å¿…éœ€ä¾èµ–**ï¼šVault
- **å¯é€‰ä¾èµ–**ï¼šPlaceholderAPI, PlayerPoints

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…æ­¥éª¤

1. **ä¸‹è½½æ’ä»¶**
   ```bash
   # ä»Releasesé¡µé¢ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
   wget https://github.com/Aauu/MonsterCapitalWorks/releases/latest/download/MonsterCapitalWorks.jar
   ```

2. **å®‰è£…ä¾èµ–**
   - å®‰è£… [Vault](https://www.spigotmc.org/resources/vault.34315/)
   - ï¼ˆå¯é€‰ï¼‰å®‰è£… [PlaceholderAPI](https://www.spigotmc.org/resources/placeholderapi.6245/)
   - ï¼ˆå¯é€‰ï¼‰å®‰è£… [PlayerPoints](https://www.spigotmc.org/resources/playerpoints.80745/)

3. **éƒ¨ç½²æ’ä»¶**
   ```bash
   # å°†jaræ–‡ä»¶æ”¾å…¥pluginsæ–‡ä»¶å¤¹
   cp MonsterCapitalWorks.jar /path/to/server/plugins/
   
   # å¯åŠ¨æœåŠ¡å™¨
   java -jar paper.jar
   ```

4. **é…ç½®æ’ä»¶**
   - ç¼–è¾‘ `plugins/MonsterCapitalWorks/config.yml`
   - æ ¹æ®éœ€è¦é…ç½®æ•°æ®åº“ç±»å‹
   - è°ƒæ•´æ€§èƒ½å‚æ•°

### åŸºç¡€é…ç½®

```yaml
# config.yml ç¤ºä¾‹
database:
  type: sqlite  # æˆ– mysql
  
economy:
  enabled: true
  
performance:
  spawner_tick_interval: 20
  max_spawners_per_tick: 10
  async_processing: true
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### å‘½ä»¤åˆ—è¡¨

| å‘½ä»¤ | æè¿° | æƒé™ |
|------|------|------|
| `/mcw help` | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ | mcw.use |
| `/mcw give <ç©å®¶> <ç±»å‹> [å®ä½“]` | ç»™äºˆåˆ·æ€ªç¬¼ | mcw.admin.give |
| `/mcw info` | æŸ¥çœ‹åˆ·æ€ªç¬¼ä¿¡æ¯ | mcw.use |
| `/mcw list [ç©å®¶]` | åˆ—å‡ºåˆ·æ€ªç¬¼ | mcw.use |
| `/mcw remove` | ç§»é™¤åˆ·æ€ªç¬¼ | mcw.admin.remove |
| `/mcw reload` | é‡è½½é…ç½® | mcw.admin.reload |
| `/mcw limit <set\|add\|remove> <ç©å®¶> <ç±»å‹> <æ•°é‡>` | ç®¡ç†é™åˆ¶ | mcw.admin.limit |

### æƒé™èŠ‚ç‚¹

```yaml
# åŸºç¡€æƒé™
mcw.use              # ä½¿ç”¨åˆ·æ€ªç¬¼
mcw.use.normal       # ä½¿ç”¨æ™®é€šåˆ·æ€ªç¬¼
mcw.use.premium      # ä½¿ç”¨é«˜çº§åˆ·æ€ªç¬¼
mcw.place            # æ”¾ç½®åˆ·æ€ªç¬¼
mcw.place.normal     # æ”¾ç½®æ™®é€šåˆ·æ€ªç¬¼
mcw.place.premium    # æ”¾ç½®é«˜çº§åˆ·æ€ªç¬¼

# ç®¡ç†å‘˜æƒé™
mcw.admin            # æ‰€æœ‰ç®¡ç†å‘˜æƒé™
mcw.admin.reload     # é‡è½½é…ç½®
mcw.admin.give       # ç»™äºˆåˆ·æ€ªç¬¼
mcw.admin.remove     # ç§»é™¤åˆ·æ€ªç¬¼

# ç‰¹æ®Šæƒé™
mcw.bypass.conditions  # ç»•è¿‡æ”¾ç½®æ¡ä»¶
mcw.bypass.limits      # ç»•è¿‡æ•°é‡é™åˆ¶
mcw.spawnmode.precise  # ä½¿ç”¨ç²¾ç¡®ç”Ÿæˆæ¨¡å¼
```

## ğŸ”§ é«˜çº§é…ç½®

### æ•°æ®åº“é…ç½®

#### SQLiteï¼ˆé»˜è®¤ï¼‰
```yaml
database:
  type: sqlite
  sqlite:
    file: data/mcw.db
```

#### MySQL
```yaml
database:
  type: mysql
  mysql:
    host: localhost
    port: 3306
    database: mcw_database
    username: root
    password: password
    pool:
      maximum_pool_size: 10
      minimum_idle: 5
```

### æ€§èƒ½ä¼˜åŒ–

```yaml
performance:
  # åˆ·æ€ªç¬¼å¤„ç†é—´éš”ï¼ˆtickï¼‰
  spawner_tick_interval: 20
  
  # æ¯tickæœ€å¤§å¤„ç†æ•°é‡
  max_spawners_per_tick: 10
  
  # å¼‚æ­¥å¤„ç†
  async_processing: true
  
  # å­˜å‚¨è®¾ç½®
  storage_add_interval: 20
  storage_release_interval: 100
  storage_release_amount: 1
```

### å‡çº§ç³»ç»Ÿ

åˆ·æ€ªç¬¼æ”¯æŒå¤šç§å‡çº§ç±»å‹ï¼š
- **ç”Ÿæˆå»¶è¿Ÿ**ï¼šå‡å°‘ç”Ÿæˆé—´éš”
- **ç”Ÿæˆæ•°é‡**ï¼šå¢åŠ æ¯æ¬¡ç”Ÿæˆæ•°é‡
- **æ¿€æ´»èŒƒå›´**ï¼šæ‰©å¤§æ¿€æ´»èŒƒå›´
- **æœ€å¤§å®ä½“**ï¼šå¢åŠ é™„è¿‘æœ€å¤§å®ä½“æ•°
- **å­˜å‚¨å®¹é‡**ï¼šå¢åŠ å­˜å‚¨ä¸Šé™

é…ç½®æ–‡ä»¶ï¼š`upgrades/normal_upgrades.yml` å’Œ `upgrades/premium_upgrades.yml`

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### æŠ€æœ¯æ ˆ
- **è¯­è¨€**ï¼šKotlin 2.3.0
- **æ„å»ºå·¥å…·**ï¼šMaven
- **æ•°æ®åº“**ï¼šSQLite / MySQL + HikariCP
- **å¼‚æ­¥å¤„ç†**ï¼šKotlin Coroutines + Custom AsyncTaskManager
- **ä¾èµ–æ³¨å…¥**ï¼šè‡ªå®šä¹‰DIå®¹å™¨

### é¡¹ç›®ç»“æ„
```
MonsterCapitalWorks/
â”œâ”€â”€ src/main/kotlin/
â”‚   â””â”€â”€ org/Aauu/monsterCapitalWorks/
â”‚       â”œâ”€â”€ async/          # å¼‚æ­¥ä»»åŠ¡ç®¡ç†
â”‚       â”œâ”€â”€ cache/          # ç¼“å­˜ç³»ç»Ÿ
â”‚       â”œâ”€â”€ command/        # å‘½ä»¤ç³»ç»Ÿ
â”‚       â”œâ”€â”€ di/             # ä¾èµ–æ³¨å…¥
â”‚       â”œâ”€â”€ hook/           # ç¬¬ä¸‰æ–¹æ’ä»¶é’©å­
â”‚       â”œâ”€â”€ listener/       # äº‹ä»¶ç›‘å¬å™¨
â”‚       â”œâ”€â”€ manager/        # æ ¸å¿ƒç®¡ç†å™¨
â”‚       â”œâ”€â”€ model/          # æ•°æ®æ¨¡å‹
â”‚       â””â”€â”€ util/           # å·¥å…·ç±»
â””â”€â”€ src/main/resources/
    â”œâ”€â”€ config.yml          # ä¸»é…ç½®
    â”œâ”€â”€ messages.yml        # æ¶ˆæ¯é…ç½®
    â”œâ”€â”€ spawner/            # åˆ·æ€ªç¬¼é…ç½®
    â”œâ”€â”€ entities/           # å®ä½“é…ç½®
    â”œâ”€â”€ upgrades/           # å‡çº§é…ç½®
    â””â”€â”€ gui/                # GUIé…ç½®
```

### æ ¸å¿ƒæ¨¡å—

#### DataManager
- æ•°æ®åº“è¿æ¥ç®¡ç†
- CRUDæ“ä½œå°è£…
- å¼‚æ­¥æ•°æ®æŒä¹…åŒ–

#### SpawnerManager
- åˆ·æ€ªç¬¼ç”Ÿå‘½å‘¨æœŸç®¡ç†
- ç”Ÿæˆé€»è¾‘å¤„ç†
- å­˜å‚¨ç³»ç»Ÿ

#### AsyncTaskManager
- å¼‚æ­¥ä»»åŠ¡è°ƒåº¦
- çº¿ç¨‹æ± ç®¡ç†
- ä»»åŠ¡ç›‘æ§

#### CacheManager
- æ™ºèƒ½ç¼“å­˜
- è‡ªåŠ¨è¿‡æœŸ
- å†…å­˜ä¼˜åŒ–

## ğŸ”„ ç‰ˆæœ¬å†å²

### v3.2 (2025-01-28) - Kotlinä¼˜åŒ–ç‰ˆ
- âœ… ç§»é™¤æ‰€æœ‰éç©ºæ–­è¨€(!!)ï¼Œä½¿ç”¨å®‰å…¨è°ƒç”¨
- âœ… ä¼˜åŒ–Kotlinä»£ç é£æ ¼ï¼Œä½¿ç”¨idiomatic Kotlin
- âœ… å°†Spawnerå’ŒPlayerDataè½¬æ¢ä¸ºdata class
- âœ… ä¼˜åŒ–æ‰©å±•å‡½æ•°ï¼Œç§»é™¤é‡å¤ä»£ç 
- âœ… æ”¹è¿›é”™è¯¯å¤„ç†å’Œç©ºå®‰å…¨
- âœ… ä»£ç æ–‡æ¡£å®Œå–„

### v3.1
- åˆå§‹Kotlinç‰ˆæœ¬
- åŸºç¡€åŠŸèƒ½å®ç°

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Forkæœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯Pull Request

### ä»£ç è§„èŒƒ
- éµå¾ªKotlinå®˜æ–¹ä»£ç é£æ ¼
- ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡å’Œå‡½æ•°å
- æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£
- é¿å…ä½¿ç”¨éç©ºæ–­è¨€(!!)
- ä¼˜å…ˆä½¿ç”¨Kotlinæ ‡å‡†åº“å‡½æ•°

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ™ è‡´è°¢

- [Paper](https://papermc.io/) - é«˜æ€§èƒ½MinecraftæœåŠ¡å™¨
- [Vault](https://github.com/MilkBowl/Vault) - ç»æµç³»ç»ŸAPI
- [PlaceholderAPI](https://github.com/PlaceholderAPI/PlaceholderAPI) - å˜é‡ç³»ç»Ÿ
- [HikariCP](https://github.com/brettwooldridge/HikariCP) - æ•°æ®åº“è¿æ¥æ± 

## ğŸ“§ è”ç³»æ–¹å¼

- **ä½œè€…**ï¼šAauu
- **GitHub**ï¼š[https://github.com/Aauu/MonsterCapitalWorks](https://github.com/Aauu/MonsterCapitalWorks)
- **é—®é¢˜åé¦ˆ**ï¼š[Issues](https://github.com/Aauu/MonsterCapitalWorks/issues)

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªStarï¼
